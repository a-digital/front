{# @var craft \craft\web\twig\variables\CraftVariable #}
{#
/**
 * Front plugin for Craft CMS
 *
 * Front Settings.twig
 *
 * @author    A Digital
 * @copyright Copyright (c) 2019 A Digital
 * @link      https://adigital.agency
 * @package   Front
 * @since     0.0.1
 */
#}

{% import "_includes/forms" as forms %}

{% includeCssResource "front/css/Front_Style.css" %}
{% includeJsResource "front/js/Front_Script.js" %}

{{ forms.textField({
    label: 'JSON Web Token',
    instructions: 'Enter your json web token here.',
    id: 'jsonWebToken',
    name: 'jsonWebToken',
    value: settings['jsonWebToken']
}) }}

{% if settings['jsonWebToken']|length %}
    {% set data = craft.front.mailboxes %}
    {% set mailboxes = [
        {
            label: "Please select...",
            value: ''
        }
    ] %}
    {% for mailbox in data.mailboxes %}
        {% set mailboxes = mailboxes|merge([
            {
                label: mailbox.name,
                value: mailbox.id
            }
        ]) %}
    {% endfor %}

    {{ forms.selectField({
        label: 'Inbox',
        instructions: 'Select your inbox here.',
        id: 'inbox',
        name: 'inbox',
        options: mailboxes,
        value: settings['inbox']
    }) }}
{% endif %}
